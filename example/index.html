<!DOCTYPE html>
<html>
<head>
  <title>Purifier.js</title>
  <link media='screen' rel='stylesheet' href='../example/assets/vendor/bootstrap/dist/css/bootstrap.css' />
  <link media='screen' rel='stylesheet' href='../example/assets/css/example.css' />
</head>
<body>

<div class='container header NO-PURIFY'>
  <div class='row NO-PURIFY'>
    <div class='clear-50'></div>
    <h1 class='text-white text-center'>
    Purifier.js
    <br />
    <span style='font-size: 18pt;'>ಠ_ಠ .... (╯°□°）╯︵ ┻━┻</span>
      <div class='clear'></div>
      <span>
      <a href='http://ishmaelthedestroyer.com' target='_blank' style='display: inline-block;'>
        <small>ishmaelthedestroyer.com</small>
      </a>
      <ul class='social-icons' style='display: inline-block;'>
        <li>
          <a href='http://twitter.com/IshmaelsAlive' target='_blank' class='social_twitter'></a>
        </li>
        <li>
          <a href='http://github.com/ishmaelthedestroyer' target='_blank' class='social_github'></a>
        </li>
      </ul>
      </span>
    </h1>
  </div>
</div>

<a href="https://github.com/ishmaelthedestroyer/purifier.js"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"></a>

<div class='clear-50'></div>

<div class='container NO-PURIFY'>
  <div class='row NO-PURIFY'>

    <p class='lead'>About</p>

    <p>Sometimes when you see something so <b>stupid</b> on the internet, you just want to throw it off the screen.</p>
    <br /><br />
    <button id='ENABLER' class='btn btn-primary'>
      Click Me
    </button>
    <p class='reveal text-large' style='font-weight: bold;'>
      Now click anything on the screen. Try clicking the text below.
      <br />
      Click the DISABLE PURIFIER button in the top left when you're done.
    </p>

    <p class='reveal'>SOME STUPID TEXT</p>

    <p class='reveal'>SOME MORE STUPID TEXT</p>

    <img class='reveal' src='../example/assets/img/clown.jpg' />
    <br /><br /><br /><br />
    <video src='../example/assets/etc/demo-c.webm' style='width: 100%;; height: auto;' mute muted controls></video>
    <br /><br /><br /><br />
    Drag this link to your bookmarks bar to use purifier anywhere:
    <a href="javascript:(function(){window.RUN_PURIFIER=function(){if(window.PURIFIER_ACTIVE){return false;}window.PURIFIER_ACTIVE=true;var faces={disapproval:'&#3232;_&#3232;',flip:'(&#9583;&#176;&#9633;&#176;&#65289;&#9583;&#65077;'};var callbacks=[];var elements=document.getElementsByTagName('*');var loader=document.getElementById('PURIFIER-LOADER');if(loader){loader.parentNode.removeChild(loader);}for(var i=0;i<elements.length;i++){(function(element){if(element.tagName&&element.tagName.toLowerCase()=='html')return;if(element.tagName&&element.tagName.toLowerCase()=='body')return;if((" "+element.className+" ").indexOf(" "+"NO-PURIFY"+" ")>-1)return;var cb=function(e){e.preventDefault();e.stopPropagation();element.removeEventListener('click',cb,false);for(var i=0;i<callbacks.length;i++){if(callbacks[i].element==element){callbacks.splice(i,1);}}var offsetLeft=element.offsetLeft;var offsetTop=element.offsetTop;var targetCoord=GetTopLeft(element);var purifierX=0;var purifierY=0;var targetX=targetCoord.left;var targetY=targetCoord.top;var movePurifierX=targetX/60;var movePurifierY=targetY/60;var purifier=document.createElement('span');purifier.style.fontSize='36pt';purifier.style.position='fixed';purifier.style.left=0;purifier.style.top=0;purifier.style.display='none';purifier.zIndex=9999999;purifier.innerHTML=faces.disapproval;purifier.style.left=0;purifier.style.top=0;purifier.innerHTML=faces.disapproval;purifier.style.display='block';document.body.appendChild(purifier);animatePurifier();function animatePurifier(){setTimeout(function(){purifierX+=movePurifierX;purifierY+=movePurifierY;purifier.style.left=purifierX+'px';purifier.style.top=purifierY+'px';if(purifierX-targetX>10||purifierX-targetX<-10||purifierY-targetY>10||purifierY-targetY<-10){animatePurifier();}else{setTimeout(function(){purifier.innerHTML=faces.flip;positionElement();move();setTimeout(function(){purifier.style.display='none';},1500);},500);}},15);}function positionElement(){var pos=GetTopLeft(element);element.style.position='fixed';element.style.left=parseInt(pos.left)+'px';element.style.top=parseInt(pos.top)+'px';}var rotation=0;function move(){setTimeout(function(){rotation+=15;element.style.webkitTransform='rotate('+rotation+'deg)';element.style.MozTransform='rotate('+rotation+'deg)';element.style.msTransform='rotate('+rotation+'deg)';element.style.OTransform='rotate('+rotation+'deg)';element.style.transform='rotate('+rotation+'deg)';element.style.left=(parseInt(element.style.left)+15)+'px';element.style.top=(parseInt(element.style.top)-15)+'px';if(parseInt(element.style.left)+element.offsetWidth<9999||parseInt(element.style.top)+element.offsetHeight>-9999){move();}},15);}function GetOffset(object,offset){if(!object)return;offset.x+=object.offsetLeft;offset.y+=object.offsetTop;GetOffset(object.offsetParent,offset);}function GetScrolled(object,scrolled){if(!object)return;scrolled.x+=object.scrollLeft;scrolled.y+=object.scrollTop;if(object.tagName.toLowerCase()!="html"){GetScrolled(object.parentNode,scrolled);}}function GetTopLeft(elem){var offset={x:0,y:0};GetOffset(elem,offset);var scrolled={x:0,y:0};GetScrolled(elem.parentNode,scrolled);var posX=offset.x-scrolled.x;var posY=offset.y-scrolled.y;return{left:posX,top:posY};}};element.addEventListener('click',cb,false);callbacks.push({event:'click',element:element,cb:cb});})(elements[i]);}var container=document.createElement('button');container.style.position='fixed';container.style.left='10px';container.style.top='10px';container.style.width='120px';container.style.height='65px';container.style.border='2px solid #ccc';container.style.zIndex=999999;container.style.fontSize='16pt';container.style.cursor='pointer';container.style.color='#fff';container.style.backgroundColor='#333';container.style.lineHeight='30px';container.innerHTML='DISABLE PURIFIER';document.body.appendChild(container);var mouseEnter=function(e){container.style.border='2px solid #eee';};var mouseLeave=function(e){container.style.border='2px solid #333';};window.DISABLE_PURIFIER=function(e){window.PURIFIER_ACTIVE=false;if(e){e.preventDefault();e.stopPropagation();}for(var i=0;i<callbacks.length;i++){callbacks[i].element.removeEventListener(callbacks[i].event,callbacks[i].cb,false);}container.parentNode.removeChild(container);};container.addEventListener('mouseenter',mouseEnter,false);container.addEventListener('mouseleave',mouseLeave,false);container.addEventListener('click',window.DISABLE_PURIFIER,false);callbacks.push({event:'mouseenter',element:container,cb:mouseEnter});callbacks.push({event:'mouseleave',element:container,cb:mouseLeave});callbacks.push({event:'click',element:container,cb:window.DISABLE_PURIFIER});};window.RUN_PURIFIER();})();">
      Purifier
    </a>
    <br />
    <p><b>Disclaimer:</b> Purifier won't load on some websites due to security reasons.</p>
    <br /><br />
    <a href='http://github.com/ishmaelthedestroyer/purifier.js'>View the source</a>



    <!--
    The source code can be found at <a href='http://github.com/ishmaelthedestroyer/purifier.js' target='_blank'>http://github.com/ishmaelthedestroyer/purifier.js</a>
    <br />
    The demo can be found at <a href='http://taylor-editor.herokuapp.com' target='_blank'>http://taylor-editor.herokuapp.com</a>
    <br /><br />
    The beef of the source code (Coffeescript) can be found at <a href='https://github.com/ishmaelthedestroyer/taylor/blob/master/js/taylor.coffee' target='_blank'>https://github.com/ishmaelthedestroyer/taylor/blob/master/js/taylor.coffee</a>
    <br />
    The compiled source code (Javascript) can be found at <a href='https://github.com/ishmaelthedestroyer/taylor/blob/master/dist/js/taylor.js' target='_blank'>https://github.com/ishmaelthedestroyer/taylor/blob/master/dist/js/taylor.js</a></p>

    <div class='clear-50'></div>
    -->

    <!--
    <p class='lead'>TODO</p>

    <ul>
      <li>
        <p>Documentation in the works.</p>
      </li>
      <li>
        <p>Methods for importing + exporting text as well as utility functions for basic statistics.</p>
      </li>
      <li>
        <p>Sticky utility bar that sticks to the top after scrolling past.</p>
      </li>
    </ul>
    -->

    <div class='clear-50'></div>
    <script src='../src/purifier.js'></script>
    <script>
      window.DISABLE_PURIFIER();
      document.getElementById('ENABLER').addEventListener('click', function(e) {
        e.preventDefault();
        e.stopPropagation();

        this.style.display = 'none';

        if (window.PURIFIER_ACTIVE) {
          return false;
        }

        window.RUN_PURIFIER();

        var hidden = document.getElementsByClassName('reveal');
        for (var i = 0; i < hidden.length; i++) {
          hidden[i].style.display = 'block';
        }
      }, false)
    </script>
</body>
</html>